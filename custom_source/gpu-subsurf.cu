// TODO: rewrite the entire algorithm to not only run faster, but integrate with blender seamlessly without caching anything to disk